<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Product Details</title>
		<!-- Link CSS Flowbit -->
		<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" />
		<!-- Link CSS -->
		<link rel="stylesheet" href="./css/mian.css" />
		<!-- Link Tailwind CSS -->
		<script src="https://cdn.tailwindcss.com"></script>
		<!-- Jquery -->
		<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
	</head>
	<body>
		<!-- Navigation Bar -->
		<nav class="bg-white border-gray-200">
			<section class="py-5 px-4 background-primary-color text-white font-medium">
				<div class="container flex justify-between flex-wrap mx-auto">
					<div class="flex items-center gap-5">
						<a href="/"><i class="bi bi-telephone-plus pe-2"> </i>(+855) 9234234</a>
						<a href="#"><i class="bi bi-envelope-check pe-2"></i> kstore@gmail.com</a>
					</div>
					<div>
						<p class="hidden md:block">Follow us and get a chance to win <span class="text-secondary-color">80%</span> off</p>
					</div>
					<div>
						<span class="flex items-center gap-4">
							Follow Us :
							<a href="#"><i class="bi bi-instagram"></i> </a>
							<a href="#"><i class="bi bi-youtube"></i></a>
							<a href="#"><i class="bi bi-facebook"></i></a>
							<a href="#"><i class="bi bi-twitter"></i></a>
						</span>
					</div>
				</div>
			</section>
			<section class="border">
				<div class="container max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
					<a href="/index.html">
						<span class="self-center text-2xl font-semibold whitespace-nowrap">KStore</span>
					</a>
					<div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
						<section class="flex items-center gap-4">
							<span class="hidden md:flex items-center gap-3">
								<i class="bi bi-person text-2xl"></i>
								<p><a href="./login.html" class="style-navbar text-lg font-medium">Login</a> / <a href="./register.html" class="style-navbar text-lg font-medium">Register</a></p>
							</span>
							<a href=""><i class="bi bi-search text-2xl"></i></a>
							<!-- Cart Icon -->
							<button id="dropdownMenuIconButton" data-dropdown-toggle="dropdownDots" class="relative inline-flex items-center p-3 text-sm font-medium text-center text-black rounded-lg cart-icon">
								<i class="bi bi-cart-plus text-2xl"></i>
								<span class="cart-count absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -end-2">0</span>
							</button>
							<!-- Cart Dropdown -->
							<div id="dropdownDots" class="cart-dropdown bg-white border shadow-md w-[420px] p-3 rounded-lg hidden">
								<div class="cart-items h-56 space-y-2 overflow-y-auto">
									<!-- Cart items will be dynamically inserted here -->
								</div>
								<div class="flex justify-between gap-5 mt-5">
									<button id="view-cart-btn" type="button" class="w-full text-center py-2.5 text-md font-medium text-white bg-gray-800 rounded-md">View Cart</button>
									<button type="button" class=" checkout-btn w-full text-center py-2.5 text-md font-medium text-black bg-gray-200 rounded-md">Checkout</button>
								</div>
							</div>

							<div id="alert-message" class="hidden fixed flex justify-center items-center md:inset-10 bg-green-200 rounded-md text-center w-60 h-10" role="alert">
								<i class="bi bi-check-circle flex-shrink-0 inline w-4 me-3 text-xl text-green-500 font-semibold"></i>
								<span class="font-medium">Item added to cart!</span>
							</div>
							<button data-collapse-toggle="navbar-cta" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm md:hidden" aria-controls="navbar-cta" aria-expanded="false">
								<span class="sr-only">Open main menu</span>
								<i class="bi bi-list text-3xl"></i>
							</button>
						</section>
					</div>
					<div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-cta">
						<ul class="flex flex-col font-medium md:p-0 mt-4 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white">
							<li>
								<a href="./index.html" class="block py-2 px-3 md:p-0 rounded md:bg-transparent style-navbar">Home</a>
							</li>
							<li>
								<a href="./shop.html" class="block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">Shop</a>
							</li>
							<li>
								<a href="./blog.html" class="block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">Blog</a>
							</li>
							<li>
								<a href="./cantact.html" class="block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">Contact</a>
							</li>
							<li>
								<a href="./about-us.html" class="block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">About Us</a>
							</li>
							<li>
								<a href="./login.html" class="md:hidden block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">Login</a>
							</li>
							<li>
								<a href="./register.html" class="md:hidden block py-2 px-3 md:p-0 text-gray-900 rounded style-navbar">Register</a>
							</li>
						</ul>
					</div>
				</div>
			</section>
		</nav>
		<!-- End Navigation Bar -->
		<main class="container max-w-screen-xl mx-auto py-8 px-4 md:px-0">
			<div id="product-detail-container" class="bg-white overflow-hidden">
				<button class="checkout-btn px-6 py-3 border font-semibold text-[#2EB8B8] rounded-lg hover:bg-gray-100 md:ml-8 my-4">Checkout</button>
			</div>
		</main>

		<!-- Footer -->
		<footer class="background-primary-color">
			<div class="mx-auto w-full max-w-screen-xl p-5">
				<div class="md:flex md:justify-between">
					<div class="mb-6 md:mb-0">
						<a href="#" class="flex flex-col items-center pb-10">
							<img src="./img/home/footer.png" class="h-24 w-24" alt="FlowBite Logo" />
							<span class="self-center text-white text-2xl font-semibold whitespace-nowrap mt-3">KStore</span>
						</a>
					</div>
					<div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3 style-footer logo-image">
						<div>
							<h2 class="mb-5 text-xl font-medium text-white uppercase">SITE MAP</h2>
							<ul class="text-white">
								<li class="mb-3">
									<a href="./index.html" class="hover:underline">Home</a>
								</li>
								<li class="mb-3">
									<a href="./shop.html" class="hover:underline">Shop</a>
								</li>
								<li class="mb-3">
									<a href="./shopping-cart.html" class="hover:underline">Category</a>
								</li>
								<li class="mb-3">
									<a href="./blog.html" class="hover:underline">Blog</a>
								</li>
								<li class="mb-3">
									<a href="./about-us.html" class="hover:underline">About Us</a>
								</li>
								<li>
									<a href="./cantact.html" class="hover:underline">Contact Us</a>
								</li>
							</ul>
						</div>
						<div>
							<h2 class="mb-5 text-xl font-medium text-white uppercase">Follow us</h2>
							<ul class="text-white">
								<li class="mb-3">
									<a href="#" class="hover:underline">Our Feature</a>
								</li>
								<li>
									<a href="#" class="hover:underline">Privacy Policy</a>
								</li>
							</ul>
						</div>
						<div>
							<h2 class="mb-5 text-xl font-medium text-white uppercase dark:text-white">CONTACT US</h2>
							<ul class="text-white">
								<li class="mb-3">
									<a href="#" class="hover:underline">Privacy Policy</a>
								</li>
								<li class="mb-3">
									<a href="#" class="hover:underline">Email</a>
								</li>
								<li class="mb-3">
									<a href="#" class="hover:underline">LinkIn</a>
								</li>
								<li class="mb-3">
									<a href="#" class="hover:underline">Telegram</a>
								</li>
								<li>
									<a href="#" class="hover:underline">Facebook</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<span class="block font-medium text-sm text-white sm:text-center pt-5 mt-5">Â© 2024 <a href="#" class="hover:underline">Khmeng Code </a>. All Rights Reserved.</span>
			</div>
		</footer>
		<!-- End Footer -->
		<script>
			$(document).ready(function () {
            // Get the product ID from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            // Fetch JSON data
            $.getJSON('/lib/products.json', function (data) {
                const product = data.find(p => p.id == productId);
                if (product) {
                    const productDetailHtml = `
											<div class="flex flex-col lg:flex-row">
												<!-- Image Section -->
												<div class="w-full lg:w-1/2 p-0 md:p-6">
													<section class="flex justify-center">
														<img id src="${product.image}" alt="${product.title}" class="h-96 rounded-md mb-4" />
													</section>
													<div class="flex gap-5 pl-2 overflow-x-auto pb-4 md:pb-0">
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
													</div>
												</div>
												<!-- Product Info Section -->
												<div class="w-full lg:w-1/2  p-0 pt-5 md:p-6">
													<article class="flex items-center mb-4 flex-wrap">
														<div class="flex items-center space-x-2 rtl:space-x-reverse">
															${renderStars(product.rating)}
														</div>
														<p class="ml-2 md:text-md font-medium">${product.rating} Star Rating</p>
														<p class="md:ml-2 pt-2 md:pt-0 text-gray-600">( ${product.reviews} User feedback )</p>
													</article>

													<h1 class="text-3xl font-semibold text-start text-gray-800 my-5">${product.description}</h1>
													<section class="grid grid-cols-1 md:grid-cols-2 my-5 gap-3">
														<div>
															<p class="text-gray-800 mb-2">Stock keeping unit: <span class="font-semibold">A264671</span></p>
															<p class="text-gray-800">Brand: <span class="font-semibold">App</span></p>
														</div>
														<div>
															<p class="text-gray-800 mb-2">Availability: <span class="text-green-600 font-semibold">In Stock</span></p>
															<p class="text-gray-800">Category: <span class="font-semibold"> ${product.category}</span></p>
														</div>
													</section>
													<article class="flex items-center mb-5">
														<p class="text-3xl font-bold text-[#2EB8B8]">$${product.price}</p>
														<p class="text-lg text-gray-400 line-through ml-4">${(product.price * 1.5).toFixed(2)}</p>
														<p class="ml-4 px-2 py-1 bg-[#ffd050] text-primary-color font-semibold text-sm rounded">21% OFF</p>
													</article>
													<section class="grid grid-cols-1 md:grid-cols-2 gap-4 my-5">
														<div>
															<p class="text-gray-600 mb-2">Color:</p>
															<div class="flex items-center space-x-2">
																<button class="w-8 h-8 rounded-full background-secondary-color border-2 focus:outline-none focus:ring focus:border-[#ffd050]"></button>
																<button class="w-8 h-8 rounded-full background-primary-color border-2 focus:outline-none focus:ring focus:border-[#232536]"></button>
															</div>
														</div>
														<div>
															<p class="text-gray-600 mb-2">Size:</p>
															<select class="w-full p-2 border border-gray-300 rounded">
																<option>14-inch Liquid Retina XDR display</option>
																<option>15-inch Retina XDR display</option>
																<option>16-inch Retina XDR display</option>
																<option>17-inch Retina XDR display</option>
																<option>18-inch Retina XDR display</option>
															</select>
														</div>
													</section>
													<section class="mt-12">
														<p class="font-medium mb-3">Quantity</p>
														<div class="flex flex-col md:flex-row items-center justify-center gap-4">
															<div class="flex w-full md:w-44 justify-center items-center gap-8 text-xl font-semibold border border-[#232536] rounded-lg px-6 py-2.5 hover:bg-gray-100 cursor-pointer">
																<button>-</button>
																<span>1</span>
																<button>+</button>
															</div>
															<button 
																class="add-to-cart w-full px-6 py-2.5 background-primary-color text-white font-semibold rounded-lg hover:bg-gray-700"
																data-id='${product.id}'
																data-title='${product.title}'
																data-price='${product.price}'
																data-image='${product.image}'
																data-rating='${product.rating}'
																data-reviews='${product.reviews}'
																data-category='${product.category}'>
																	ADD TO CART <i class="bi bi-cart2 text-2xl ml-2"></i>
															</button>
														</div>
													</section>
												</div>
											</div>
                    `;
                    $('#product-detail-container').append(productDetailHtml);
                }

								// Helper function to render stars
								function renderStars(rating) {
									let stars = '';
									for (let i = 1; i <= 5; i++) {
										stars += `<i class='bi ${i <= rating ? 'bi-star-fill text-[#f3de6d]' : 'bi-star text-gray-300'}'></i>`;
									}
									return stars;
								}
            });

						// Accessories
						$.getJSON('/lib/computer-accessories.json', function (data) {
                const product = data.find(p => p.id == productId);
                if (product) {
                    const productDetailHtml = `
											<div class="flex flex-col lg:flex-row">
												<!-- Image Section -->
												<div class="w-full lg:w-1/2 p-0 md:p-6">
													<section class="flex justify-center">
														<img id src="${product.image}" alt="${product.title}" class="h-96 rounded-md mb-4" />
													</section>
													<div class="flex gap-5 pl-2 overflow-x-auto pb-4 md:pb-0">
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
														<img src="/img/shop/product/placeholder.svg" alt="Thumbnail" class="w-24 h-auto rounded-md cursor-pointer" />
													</div>
												</div>
												<!-- Product Info Section -->
												<div class="w-full lg:w-1/2  p-0 pt-5 md:p-6">
													<article class="flex items-center mb-4 flex-wrap">
														<div class="flex items-center space-x-2 rtl:space-x-reverse">
															${renderStars(product.rating)}
														</div>
														<p class="ml-2 md:text-md font-medium">${product.rating} Star Rating</p>
														<p class="md:ml-2 pt-2 md:pt-0 text-gray-600">( ${product.reviews} User feedback )</p>
													</article>

													<h1 class="text-3xl font-semibold text-start text-gray-800 my-5">${product.description}</h1>
													<section class="grid grid-cols-1 md:grid-cols-2 my-5 gap-3">
														<div>
															<p class="text-gray-800 mb-2">Stock keeping unit: <span class="font-semibold">A264671</span></p>
															<p class="text-gray-800">Brand: <span class="font-semibold">App</span></p>
														</div>
														<div>
															<p class="text-gray-800 mb-2">Availability: <span class="text-green-600 font-semibold">In Stock</span></p>
															<p class="text-gray-800">Category: <span class="font-semibold"> ${product.category}</span></p>
														</div>
													</section>
													<article class="flex items-center mb-5">
														<p class="text-3xl font-bold text-[#2EB8B8]">$${product.price}</p>
														<p class="text-lg text-gray-400 line-through ml-4">${(product.price * 1.5).toFixed(2)}</p>
														<p class="ml-4 px-2 py-1 bg-[#ffd050] text-primary-color font-semibold text-sm rounded">21% OFF</p>
													</article>
													<section class="grid grid-cols-1 md:grid-cols-2 gap-4 my-5">
														<div>
															<p class="text-gray-600 mb-2">Color:</p>
															<div class="flex items-center space-x-2">
																<button class="w-8 h-8 rounded-full background-secondary-color border-2 focus:outline-none focus:ring focus:border-[#ffd050]"></button>
																<button class="w-8 h-8 rounded-full background-primary-color border-2 focus:outline-none focus:ring focus:border-[#232536]"></button>
															</div>
														</div>
														<div>
															<p class="text-gray-600 mb-2">Size:</p>
															<select class="w-full p-2 border border-gray-300 rounded">
																<option>14-inch Liquid Retina XDR display</option>
																<option>15-inch Retina XDR display</option>
																<option>16-inch Retina XDR display</option>
																<option>17-inch Retina XDR display</option>
																<option>18-inch Retina XDR display</option>
															</select>
														</div>
													</section>
													<section class="mt-12">
														<p class="font-medium mb-3">Quantity</p>
														<div class="flex flex-col md:flex-row items-center justify-center gap-4">
															<div class="flex w-full md:w-44 justify-center items-center gap-8 text-xl font-semibold border border-[#232536] rounded-lg px-6 py-2.5 hover:bg-gray-100 cursor-pointer">
																<button>-</button>
																<span>1</span>
																<button>+</button>
															</div>
															<button
																class="add-to-cart w-full md:w-96 px-6 py-2.5 background-primary-color text-white font-semibold rounded-lg hover:bg-gray-700"
																data-id='${product.id}'
																data-title='${product.title}'
																data-price='${product.price}'
																data-image='${product.image}'
																data-rating='${product.rating}'
																data-reviews='${product.reviews}'
																data-category='${product.category}'
																type="button"
																>
																	ADD TO CART <i class="bi bi-cart2 text-2xl ml-2"></i>
																</button>
														</div>
													</section>
												</div>
											</div>
                    `;
                    $('#product-detail-container').append(productDetailHtml);
                }
								// Helper function to render stars
								function renderStars(rating) {
									let stars = '';
									for (let i = 1; i <= 5; i++) {
										stars += `<i class='bi ${i <= rating ? 'bi-star-fill text-[#f3de6d]' : 'bi-star text-gray-300'}'></i>`;
									}
									return stars;
								}
            });
        });
		</script>
		<!--CDN Javascript Flowbite -->
		<script src="./js/main.js"></script>
		<script src="./js/shopping.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
	</body>
</html>
